extends ../layout/commonLayout

block content

  a(href='/') Home page
  br
  br  
  form(action="/transactions/create" method="POST")
    label Create new transaction:
    br
    label Choose a user :
    |
    |
    select(name="userTransaction")
      each user in users
        option(value=user.name)=user.name
    br
    label Choose a book:
    |
    |
    select(name="bookTransaction")
      each book in books
        option(value=book.title)=book.title
    br
    button.btn.btn-primary.ml-2 Create
  caption Transactions List: 
  table.table 
      tr
        th Index
        th Id
        th User Name
        th Book
        th Status
        each transaction,index in transactions 
          tr 
            td=index+1
            td=transaction.id
            td=transaction.userTransaction
            td=transaction.bookTransaction
            if transaction.isComplete 
              td=transaction.isComplete
            else
              td
                a(href='/transactions/'+transaction.id+'/complete')=transaction.isComplete